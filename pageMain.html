<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Her Choice PH</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&family=Funnel+Display:wght@400;700&display=swap" rel="stylesheet">
    <!-- Google Material Symbols -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
    <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="top-header">
    <div class="header-left">
      <button class="burger-menu" aria-label="Open menu">
        <span class="material-symbols-outlined">menu</span>
      </button>
      <img src="logo-small.png" alt="Logo" class="logo-small">
    </div>

    <nav class="header-middle">
        <a href="#product-selection-section" data-target="product-selection-section">Shop</a>
        <a href="#about-section" data-target="about-section">About</a>
        <a href="#footer" data-target="footer">Contact</a>
      <img src="logo-large.png" alt="Logo" class="logo">
    </nav>

    <div class="header-right">
      <a class="cart-btn" href="cart.html" aria-label="View cart">
        <span class="material-symbols-outlined">shopping_cart</span>
      </a>
    </div>
  </header>

  <section class="hero-section">
    <img src="Resources/Hero Background.png" alt="Hero Background" class="hero-bg">
    <div class="hero-center">
      <img src="Resources/HeroLogo.png" alt="Hero Logo" class="hero-logo">
      <div class="hero-tagline">Beauty is a choice, her choice</div>
      <div class="hero-subtext">
        Join 1000+ Filipinas who tried the HerChoice PH Set C — and saw real, visible changes in just 30 days.
      </div>
      <a href="#" class="hero-cta">Join now</a>
    </div>
  </section>

  <section class="product-carousel-section">
    <div class="carousel-left">
      <div class="product-info">
        <h2 id="product-name">Brightening Serum</h2>
        <p id="product-description">Our best-selling serum that helps even out skin tone and boost glow.</p>
      </div>
    </div>

    <div class="carousel-right">
      <div class="carousel-container" id="carousel-container" aria-live="polite">
        <button class="carousel-btn carousel-prev" id="carousel-prev" aria-label="Previous product">&lt;</button>
        <div class="carousel-track" id="carousel-track">
          <div class="carousel-item" data-index="0">
            <img src="Resources/oil.png" alt="Product 1">
          </div>
          <div class="carousel-item" data-index="1">
            <img src="Resources/whitening.png" alt="Product 2">
          </div>
          <div class="carousel-item" data-index="2">
            <img src="Resources/papaya.png" alt="Product 3">
          </div>
        </div>

        <button class="carousel-btn carousel-next" id="carousel-next" aria-label="Next product">&gt;</button>
      </div>
    </div>
  </section>

<!-- Product Selection (uses Resources/Product Selection.png as section bg) -->
  <section id="product-selection-section" class="product-selection-section" aria-label="Product selection">
    <div class="product-selection-inner">
      <div class="product-grid" role="list">
        <!-- Sets (single-select) -->
        <button class="product-card set-card" data-type="set" data-id="set-c-1" data-name="Set-C (1 Set)" data-price="885" aria-label="Select Set-C (1 Set)">
          <img src="Resources/1 SET.png" alt="Set-C (1 Set)">
          <div class="card-price"><span class="muted">15% OFF + shipping</span></div>
        </button>

        <button class="product-card set-card" data-type="set" data-id="set-c-2" data-name="Set-C (2 Sets)" data-price="1675" aria-label="Select Set-C (2 Sets)">
          <img src="Resources/2 SETS.png" alt="Set-C (2 Sets)">
            <div class="card-price"><span class="muted">15% OFF + FREE shipping</span></div>
        </button>

        <button class="product-card set-card" data-type="set" data-id="set-c-3" data-name="Set-C (3 Sets)" data-price="2470" aria-label="Select Set-C (3 Sets)">
          <img src="Resources/3 SETS.png" alt="Set-C (3 Sets)">
            <div class="card-price"><span class="muted">25% OFF + FREE shipping</span></div>
        </button>

  <!-- Extras now individual selectable cards (multi-select) -->
        <button class="product-card extra-card" data-type="extra" data-id="extra-1" data-name="IBB Soap (1 Bar)" data-price="148" aria-pressed="false">
          <img src="Resources/1IBBsoap.png" alt="IBB Soap">
          <div class="card-label">
            <div class="card-title">IBB Soap (1 Bar)</div>
            <div class="card-price">₱148</div>
          </div>
          <div class="add-overlay" role="button" tabindex="0" aria-label="Add IBB Soap to cart">Add to cart</div>
        </button>

        <button class="product-card extra-card" data-type="extra" data-id="extra-2" data-name="Sunshield SPF50 (1 Bottle)" data-price="288" aria-pressed="false">
          <img src="Resources/2SPF50.png" alt="Sunshield SPF50">
          <div class="card-label">
            <div class="card-title">Sunshield SPF50 (1 Bottle)</div>
            <div class="card-price">₱288</div>
          </div>
          <div class="add-overlay" role="button" tabindex="0" aria-label="Add Sunshield SPF50 to cart">Add to cart</div>
        </button>
      </div>
    </div>
  </section>
<!-- About → Promotions → Comments (reordered and simplified) -->
<section id="about-section" class="about-promos-comments" aria-label="About and promotions">
      <div class="about-block">
    <div class="about-inner-grid">
      <div class="about-media-col" aria-hidden="true">
        <!-- background is set via CSS (Resources/about.png) and we include a decorative icon -->
        <div class="about-hero-icon" aria-hidden="true"></div>
      </div>
      <div class="about-content-col">
        <h2>About Her Choice PH</h2>
        <p>Built on trust, heritage and visible results. Her Choice PH combines modern formulation with classic sensibilities to deliver skincare that feels luxurious and works.</p>
        <p>Our mission is to empower Filipinas with simple, effective products made for everyday beauty.</p>
        <a class="primary-cta" href="/about">Learn more</a>
      </div>
    </div>
  </div>

  <div class="promotions-block">
    <h2>Promotions</h2>
    <div class="promos-grid" style="display:flex;gap:12px;align-items:flex-start">
      <div class="promos-images" style="flex:0 0 480px;display:flex;flex-direction:column;gap:8px">
        <img id="promo-img-1" src="Resources/Promo1.png" alt="Promo 1" style="width:100%;height:160px;object-fit:cover;border-radius:8px">
        <img id="promo-img-2" src="Resources/Promo2.png" alt="Promo 2" style="width:100%;height:120px;object-fit:cover;border-radius:8px">
        <img id="promo-img-3" src="Resources/Promo3.png" alt="Promo 3" style="width:100%;height:120px;object-fit:cover;border-radius:8px">
      </div>
      <div style="flex:1;max-height:320px;overflow:auto;border-radius:8px;padding:8px;border:1px solid rgba(0,0,0,0.04)" aria-label="Promotions list">
        <div style="display:flex;flex-direction:column;gap:8px">
          <div id="promo-list" class="promo-list"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="comments-block">
    <h2>Comments</h2>
    <div id="comments-list" class="comments-list">
      <!-- comments injected by JS -->
    </div>
    <div class="comment-form">
      <input id="comment-author" placeholder="Your name">
      <textarea id="comment-body" placeholder="Write a comment"></textarea>
      <button id="comment-submit" class="btn">Post Comment</button>
    </div>
  </div>
</section>

<!-- FAQ Accordion -->
<section id="faq" class="faq-section" aria-label="Frequently Asked Questions">
  <div class="faq-inner" style="max-width:900px;margin:36px auto;padding:18px">
    <h2>Frequently Asked Questions</h2>
    <div class="faq-list">
      <div class="faq-item">
        <button class="faq-q" aria-expanded="false">Gaano kabilis bago makita ang effect?</button>
        <div class="faq-a" hidden>Karaniwang 1–2 shades na difference matapos ang 4 weeks ng consistent use. Varies by user—some see a difference after days; some may take up to 5 weeks.</div>
      </div>
      <div class="faq-item">
        <button class="faq-q" aria-expanded="false">Malagkit ba ang lotion?</button>
        <div class="faq-a" hidden>Hindi. Lightweight at non-greasy ang formula, madaling ma-absorb at ideal sa mainit na klima.</div>
      </div>
      <div class="faq-item">
        <button class="faq-q" aria-expanded="false">Safe ba ito sa sensitive skin?</button>
        <div class="faq-a" hidden>Yes—formulated for all skin types. If pregnant, consult a doctor first.</div>
      </div>
      <div class="faq-item">
        <button class="faq-q" aria-expanded="false">Pwede ba itong gamitin araw-araw?</button>
        <div class="faq-a" hidden>Oo. Daily use ng Kojic Papaya Soap, Sunflower Oil, at Whitening Lotion ang recommended.</div>
      </div>
    </div>
  </div>
</section>

<!-- Footer -->
<footer id="footer" class="site-footer" style="background:#F7EFE6;padding:24px 12px;margin-top:32px">
  <div style="max-width:1100px;margin:0 auto;display:flex;justify-content:space-between;gap:12px;align-items:flex-start;flex-wrap:wrap">
    <div style="min-width:240px">
      <h3>Contact</h3>
      <div><a href="tel:+63-000-000-0000">+63-000-000-0000</a></div>
      <div><a href="mailto:support@herchoice.ph">support@herchoice.ph</a></div>
    </div>
    <div style="min-width:240px">
      <h3>Social</h3>
      <div><a href="#" target="_blank" rel="noopener">Facebook</a> • <a href="#" target="_blank" rel="noopener">TikTok Shop</a> • <a href="#" target="_blank" rel="noopener">Shopee</a></div>
    </div>
    <div style="min-width:200px;text-align:right">
      <div>© <span id="cur-year"></span> Her Choice PH</div>
      <div><a href="#">Privacy</a> • <a href="#">Terms</a></div>
    </div>
  </div>
</footer>

  <!-- undo toast -->
  <div id="undo-toast" role="status" aria-live="polite">
    <span id="undo-msg">Added to cart</span>
    <button id="undo-btn">Undo</button>
    <button id="undo-close" class="confirm">OK</button>
  </div>


  <script>
    /* ===================[ Header behavior ]=================== */
    // Sticky header background toggle
    const header = document.querySelector('.top-header');
    window.addEventListener('scroll', () => {
      if (window.scrollY > 10) header.classList.add('scrolled'); else header.classList.remove('scrolled');
    });
  </script>
  <script src="/public/js/supabase-config.js"></script>
  <script type="module">
    import '/public/js/core.js';
    import '/public/js/site.js';
  </script>
  <script>
  // Keep only lightweight UI helpers on the page; cart logic now lives in shared modules (public/js/site.js)
  (function(){
    // setup smooth scrolling, FAQ and current year
    function setupSmoothNav(){ const navLinks = Array.from(document.querySelectorAll('.header-middle a[data-target]')); function onScroll(){ const fromTop = window.scrollY + 120; navLinks.forEach(link=>{ const targetId = link.getAttribute('data-target'); const el = document.getElementById(targetId); if (!el) return; const top = el.offsetTop; const bottom = top + el.offsetHeight; if (fromTop >= top && fromTop < bottom) link.classList.add('active'); else link.classList.remove('active'); }); }
    navLinks.forEach(link=>{ link.addEventListener('click', (e)=>{ e.preventDefault(); const targetId = link.getAttribute('data-target'); const el = document.getElementById(targetId); if (!el) return; el.scrollIntoView({behavior:'smooth',block:'start'}); }); }); window.addEventListener('scroll', onScroll, { passive: true }); onScroll(); }
    function setupFAQ(){ document.querySelectorAll('.faq-item').forEach(item=>{ const btn = item.querySelector('.faq-q'); const panel = item.querySelector('.faq-a'); btn.addEventListener('click', ()=>{ const expanded = btn.getAttribute('aria-expanded') === 'true'; btn.setAttribute('aria-expanded', String(!expanded)); panel.hidden = expanded; }); }); }
    document.addEventListener('DOMContentLoaded', ()=>{ setupSmoothNav(); setupFAQ(); const y = new Date().getFullYear(); const yr = document.getElementById('cur-year'); if (yr) yr.textContent = y; });
  })();
  </script>
// ...existing code...
<script>
// Carousel + product-grid state script
// - Initializes carousel (prev/next/keyboard)
// - Exposes simple API window.__hc_carousel.goTo(n)
// - Tracks product-grid selection state via localStorage and toggles .has-selection
(function () {
  /* ---------- Carousel initialization & controls ---------- */
  const items = Array.from(document.querySelectorAll('.carousel-item'));
  if (items.length) {
    let idx = 0;
    const prevBtn = document.getElementById('carousel-prev');
    const nextBtn = document.getElementById('carousel-next');

    function renderCarousel() {
      items.forEach((it, i) => {
        it.classList.remove('is-active', 'is-next', 'is-hidden');
        if (i === idx) it.classList.add('is-active');
        else if (i === idx + 1) it.classList.add('is-next');
        else it.classList.add('is-hidden');
      });
      if (prevBtn) prevBtn.disabled = idx === 0;
      if (nextBtn) nextBtn.disabled = idx === items.length - 1;
    }

    if (prevBtn) prevBtn.addEventListener('click', () => { if (idx > 0) { idx--; renderCarousel(); } });
    if (nextBtn) nextBtn.addEventListener('click', () => { if (idx < items.length - 1) { idx++; renderCarousel(); } });

    // keyboard navigation
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowLeft') { if (idx > 0) { idx--; renderCarousel(); } }
      if (e.key === 'ArrowRight') { if (idx < items.length - 1) { idx++; renderCarousel(); } }
    }, { passive: true });

    // expose for other scripts
    window.__hc_carousel = {
      goTo: (n) => { if (typeof n === 'number' && n >= 0 && n < items.length) { idx = n; renderCarousel(); } },
      next: () => { if (idx < items.length - 1) { idx++; renderCarousel(); } },
      prev: () => { if (idx > 0) { idx--; renderCarousel(); } }
    };

    // initial render
    if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', renderCarousel);
    else renderCarousel();
  } // end carousel

  /* ---------- Product selection grid state updater (ensure default full opacity) ---------- */
  const STORAGE_KEY = 'hc_cart_v1';
  const grid = document.querySelector('.product-grid');

  function readCart() {
    try { return JSON.parse(localStorage.getItem(STORAGE_KEY)) || { set: null, extras: [] }; }
    catch (e) { return { set: null, extras: [] }; }
  }
  function writeCart(cart) {
    try { localStorage.setItem(STORAGE_KEY, JSON.stringify(cart)); }
    catch (e) { /* ignore storage errors */ }
    updateGridSelectionState(cart);
  }

  function updateGridSelectionState(cart) {
    if (!grid) return;
    if (cart && cart.set) grid.classList.add('has-selection');
    else grid.classList.remove('has-selection');
  }

  // initialize UI from storage and ensure grid state is consistent
  function initGridState() {
    const cart = readCart();
    // ensure existing selected UI matches storage (non-destructive)
    if (cart.set) {
      document.querySelectorAll('.product-card.set-card').forEach(s => s.classList.toggle('selected', s.dataset.id === cart.set.id));
    } else {
      document.querySelectorAll('.product-card.set-card').forEach(s => s.classList.remove('selected'));
    }
    (cart.extras || []).forEach(e => {
      const el = document.querySelector(`.product-card.extra-card[data-id="${e.id}"]`);
      if (el) { el.classList.add('selected'); el.setAttribute('aria-pressed', 'true'); }
    });
    updateGridSelectionState(cart);
  }

  // Expose helper to update state externally
  window.__hc_updateGridState = updateGridSelectionState;
  window.__hc_readCart = readCart;
  window.__hc_writeCart = writeCart;

  // Run initialization after DOM ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initGridState);
  } else initGridState();
  // Wire product selection to canonical pushCart API when available
  (function wireProductSelectionToCart(){
    function addSetListener(){
      document.querySelectorAll('.product-card.set-card').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          const prod = { id: btn.dataset.id, name: btn.dataset.name, price: Number(btn.dataset.price) };
          try{ if (typeof window.pushCart === 'function'){ window.pushCart(Object.assign({}, prod, { qty: 1 })); } else { const c = readCart(); c.set = prod; writeCart(c); } }catch(e){ console.warn('pushCart failed', e); }
          // update UI selection
          document.querySelectorAll('.product-card.set-card').forEach(s=>s.classList.remove('selected'));
          btn.classList.add('selected');
          // make grid show selection
          updateGridSelectionState(readCart());
        });
      });
    }
    function addExtraOverlayListeners(){
      document.querySelectorAll('.product-card.extra-card .add-overlay').forEach(btn=>{
        btn.addEventListener('click', (e)=>{ e.stopPropagation(); const card = btn.closest('.product-card'); if (!card) return; const item = { id: card.dataset.id, name: card.dataset.name, price: Number(card.dataset.price) || 0, qty:1 };
          try{ if (typeof window.pushCart === 'function'){ window.pushCart(item); } else { const cart = readCart(); cart.extras = cart.extras || []; cart.extras.push(item); writeCart(cart); } }catch(err){ console.warn('pushCart failed', err); }
          card.classList.add('selected'); card.setAttribute('aria-pressed','true');
        });
        // keyboard activation
        btn.addEventListener('keydown', (ev)=>{ if (ev.key === 'Enter' || ev.key === ' ') { ev.preventDefault(); btn.click(); } });
      });
    }
    if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', ()=>{ addSetListener(); addExtraOverlayListeners(); }); else { addSetListener(); addExtraOverlayListeners(); }
  })();
})();
</script>
// ...existing code...
  <script>
  // filepath: /home/kyusi/Downloads/BeuPro/pageMain.html
  // ...existing code...
  (function(){
    const STORAGE_KEY = 'hc_cart_v1';
    const MAX_EXTRAS = 2; // per FSD
    function showToast(msg){ if (window.toast) window.toast(msg); else alert(msg); }

    function readCart(){ try { return JSON.parse(localStorage.getItem(STORAGE_KEY)) || { set: null, extras: [] }; } catch(e){ return { set: null, extras: [] }; } }
    function writeCart(cart){ localStorage.setItem(STORAGE_KEY, JSON.stringify(cart)); }

    // set selection (radio-like) — exactly one set
    document.querySelectorAll('.product-card.set-card').forEach(btn=>{
      btn.addEventListener('click', ()=> {
        const cart = readCart();
        cart.set = { id: btn.dataset.id, name: btn.dataset.name, price: Number(btn.dataset.price) };
        writeCart(cart);
        // UI: only one selected set
        document.querySelectorAll('.product-card.set-card').forEach(s=>s.classList.remove('selected'));
        btn.classList.add('selected');
      });
    });

    // extras selection (toggle) — up to MAX_EXTRAS allowed
    document.querySelectorAll('.product-card.extra-card').forEach(btn=>{
      btn.addEventListener('click', (e)=>{
        const cart = readCart();
        const id = btn.dataset.id;
        const existing = cart.extras.find(e=>e.id===id);
        if (existing) {
          cart.extras = cart.extras.filter(e=>e.id!==id);
          btn.classList.remove('selected');
          btn.setAttribute('aria-pressed','false');
        } else {
          if ((cart.extras||[]).length >= MAX_EXTRAS){ showToast('You can add up to '+MAX_EXTRAS+' extras only'); return; }
          cart.extras.push({ id, name: btn.dataset.name, price: Number(btn.dataset.price) });
          btn.classList.add('selected');
          btn.setAttribute('aria-pressed','true');
        }
        writeCart(cart);
      });
    });

    // initialize UI from storage
    document.addEventListener('DOMContentLoaded', ()=>{
      const cart = readCart();
      if (cart.set) {
        const sel = document.querySelector(`.product-card.set-card[data-id="${cart.set.id}"]`);
        if (sel) sel.classList.add('selected');
      }
      (cart.extras || []).forEach(e=>{
        const el = document.querySelector(`.product-card.extra-card[data-id="${e.id}"]`);
        if (el) { el.classList.add('selected'); el.setAttribute('aria-pressed','true'); }
      });
      // setup smooth scrolling and active nav
      setupSmoothNav();
      setupFAQ();
      // set current year in footer
      const y = new Date().getFullYear(); const yr = document.getElementById('cur-year'); if (yr) yr.textContent = y;
    });

    /* ===== Navigation: smooth scroll + active link highlighting ===== */
    function setupSmoothNav(){
      const navLinks = Array.from(document.querySelectorAll('.header-middle a[data-target]'));
      function onScroll(){
        const fromTop = window.scrollY + 120; // offset for sticky header
        navLinks.forEach(link=>{
          const targetId = link.getAttribute('data-target');
          const el = document.getElementById(targetId);
          if (!el) return;
          const top = el.offsetTop;
          const bottom = top + el.offsetHeight;
          if (fromTop >= top && fromTop < bottom) link.classList.add('active'); else link.classList.remove('active');
        });
      }
      navLinks.forEach(link=>{
        link.addEventListener('click', (e)=>{
          e.preventDefault(); const targetId = link.getAttribute('data-target'); const el = document.getElementById(targetId); if (!el) return; el.scrollIntoView({behavior:'smooth',block:'start'});
        });
      });
      window.addEventListener('scroll', onScroll, { passive: true });
      onScroll();
    }

    /* ===== FAQ accordion ===== */
    function setupFAQ(){
      document.querySelectorAll('.faq-item').forEach(item=>{
        const btn = item.querySelector('.faq-q'); const panel = item.querySelector('.faq-a');
        btn.addEventListener('click', ()=>{
          const expanded = btn.getAttribute('aria-expanded') === 'true';
          btn.setAttribute('aria-expanded', String(!expanded));
          if (expanded){ panel.hidden = true; } else { panel.hidden = false; }
        });
      });
    }
  })();
  </script>

</body>
</html>