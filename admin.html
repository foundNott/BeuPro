<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Admin — Her Choice PH</title>
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;600;700&family=Funnel+Display:wght@400;500;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="exstyles.css">
  <style>
    /* small adjustments to match design tokens */
    header.top-header{position:fixed;top:0;left:0;right:0;height:64px;background:#490506;color:#FFF7E7;display:flex;align-items:center;padding:12px 20px;z-index:1200}
    header.top-header a{color:inherit}
  /* place sidebar at the left edge and keep main content to the right */
  .admin-layout{display:flex;gap:20px;width:100%;padding:20px 40px 40px 40px;box-sizing:border-box}
  .admin-sidebar{width:220px;position:fixed;left:20px;top:80px;bottom:20px;overflow:auto}
  .admin-main{margin-left:260px;flex:1}
    .admin-page{display:none}
    .admin-page.is-active{display:block}
    .controls{display:flex;flex-wrap:wrap;gap:8px;align-items:center}
    .list{margin-top:12px}
    .item{display:flex;justify-content:space-between;align-items:center;padding:8px;border-radius:6px;background:rgba(0,0,0,0.03);margin-bottom:6px}
    .admin-nav a{display:block;padding:8px 10px;border-radius:6px;color:inherit;text-decoration:none}
    .admin-nav a.active{background:#FFF7E7;color:#000;font-weight:700}
  </style>
</head>
<body class="admin">
  <header class="top-header">
    <div style="display:flex;align-items:center;gap:12px">
      <img src="Resources/HeroLogo.png" alt="logo" style="height:36px">
      <div style="font-family:'Merriweather',serif;font-size:1.1rem">Her Choice PH — Admin</div>
    </div>
    <div style="margin-left:auto;display:flex;align-items:center;gap:12px">
      <a href="pageMain.html" style="color:#FFF7E7;text-decoration:none">View Site</a>
      <div id="supabase-status" style="display:flex;align-items:center;gap:8px;font-size:0.9rem;margin-left:12px">
        <span id="status-dot" style="width:10px;height:10px;border-radius:50%;background:#b33;display:inline-block"></span>
        <span id="status-text">Disconnected</span>
      </div>
      <button id="auth-btn" class="btn" style="margin-left:8px">Sign in</button>
    </div>
  </header>

  <div class="admin-layout" style="margin-top:80px">
    <aside class="admin-sidebar">
      <h3>Dashboard</h3>
      <nav class="admin-nav">
  <a href="#orders" data-target="orders-page">Orders</a>
        <a href="#deliveries" data-target="deliveries-page">Deliveries</a>
        <a href="#couriers" data-target="couriers-page">Couriers</a>
        <a href="#comments" data-target="comments-page">Comments</a>
        <a href="#promos" data-target="promos-page">Promotions</a>
      </nav>
    </aside>

    <main class="admin-main">
  <div id="orders-page" class="admin-page">
        <section class="panel">
          <h2>Orders (FIFO Queue)</h2>
          <div style="display:flex;gap:18px;align-items:flex-start">
            <div style="flex:1">
              <div class="muted small">Order queue (oldest at top)</div>
              <div id="cust-list" class="list"></div>
            </div>
            <div style="width:360px;max-height:calc(100vh - 180px);overflow:auto;display:flex;flex-direction:column;gap:12px">
              <div style="background:rgba(0,0,0,0.02);padding:12px;border-radius:8px">
                <h3 style="margin:0 0 8px 0">Add Customer / Quick Order</h3>
                <div style="display:flex;flex-direction:column;gap:8px">
                  <div style="display:flex;gap:8px">
                    <input id="cust-name" placeholder="Customer name" class="input small" style="flex:1">
                    <input id="cust-phone" placeholder="Phone" class="input small" style="width:120px">
                  </div>
                  <div style="display:flex;gap:8px">
                    <button id="enq-cust" class="btn">Enqueue Order</button>
                    <button id="deq-cust" class="btn secondary">Accept Next Order</button>
                  </div>
                </div>
              </div>
              <div style="background:rgba(0,0,0,0.02);padding:12px;border-radius:8px">
                <h3 style="margin:0 0 8px 0">Quick Order</h3>
                <div style="display:flex;flex-direction:column;gap:8px">
                  <input id="quick-fullname" placeholder="Fullname" class="input small">
                  <input id="quick-phone" placeholder="Phone" class="input small">
                  <input id="quick-address" placeholder="Address" class="input small">
                  <div style="display:flex;gap:8px"><input id="quick-city" placeholder="City" class="input small" style="flex:1"><input id="quick-postal" placeholder="Postal" class="input small" style="width:100px"></div>
                  <label>Select product(s)</label>
                  <div style="display:flex;flex-direction:column;gap:6px">
                      <label><input type="checkbox" data-id="set-c-1" class="admin-prod"> Set-C (1 Set)</label>
                      <label><input type="checkbox" data-id="set-c-2" class="admin-prod"> Set-C (2 Sets)</label>
                      <label><input type="checkbox" data-id="set-c-3" class="admin-prod"> Set-C (3 Sets)</label>
                    <div style="display:flex;flex-direction:column;gap:6px">
                      <label style="display:flex;align-items:center;gap:8px"><span style="flex:1">IBB Soap (qty)</span><input id="qty-extra-1" type="number" min="0" value="0" style="width:70px"></label>
                      <label style="display:flex;align-items:center;gap:8px"><span style="flex:1">Sunshield SPF50 (qty)</span><input id="qty-extra-2" type="number" min="0" value="0" style="width:70px"></label>
                    </div>
                  </div>
                  <select id="quick-payment" class="input small"><option value="cod">COD</option><option value="gpay">GCash</option></select>
                  <button id="quick-place" class="btn">Add Order</button>
                </div>
              </div>
            </div>
          </div>
            <div class="muted small">Order queue (oldest at top)</div>
        </section>
      </div>

      <div id="deliveries-page" class="admin-page">
        <section class="panel">
          <h2>Delivery Schedule (FIFO)</h2>
          <div class="controls">
            <input id="del-date" type="date" class="input small">
            <input id="del-time" type="time" class="input small">
            <select id="del-courier" class="input small"><option value="">Choose courier</option></select>
            <input id="del-note" placeholder="Note/Address" class="input small">
            <button id="enq-del" class="btn">Schedule Delivery</button>
            <button id="deq-del" class="btn secondary">Process Next Delivery</button>
          </div>
          <div class="muted small">Scheduled deliveries (oldest at top)</div>
          <div id="del-list" class="list"></div>
        </section>
      </div>

      <div id="couriers-page" class="admin-page">
        <section class="panel">
          <h2>Couriers (FIFO)</h2>
          <div class="controls">
            <input id="courier-name" placeholder="Courier name" class="input small">
            <input id="courier-vehicle" placeholder="Vehicle/Plate" class="input small">
            <button id="enq-courier" class="btn">Add Courier</button>
          </div>
          <div class="muted small">Available couriers (oldest at top)</div>
          <div id="courier-list" class="list"></div>
        </section>
      </div>

      <div id="comments-page" class="admin-page">
        <section class="panel">
          <h2>Comments</h2>
          <div class="muted small">Comment moderation will be implemented here.</div>
          <div id="comments-list" class="list"></div>
        </section>
      </div>

      <div id="promos-page" class="admin-page">
        <section class="panel">
          <h2>Promotions</h2>
          <div class="muted small">Add promotion links (no images required). These will be shown in the site promotions area.</div>
          <div class="controls" style="margin-top:8px">
            <input id="promo-title" placeholder="Promotion title" class="input small">
            <input id="promo-link" placeholder="https://..." class="input small">
            <input id="promo-image" placeholder="Image URL (optional)" class="input small">
            <button id="promo-add" class="btn">Add Promotion</button>
          </div>
          <div style="margin-top:8px;display:flex;gap:8px;align-items:center">
            <input id="promo-id" placeholder="Promotion id to remove" class="input small">
            <button id="promo-remove" class="btn secondary">Remove</button>
          </div>
          <div class="muted small">Existing promotions</div>
          <div id="promo-list" class="list" style="margin-top:12px"></div>
        </section>
      </div>

    </main>
  </div>

  <!-- Supabase config -->
  <script src="/public/js/supabase-config.js"></script>
  <script type="module">
    import './public/js/core.js';
    import './public/js/admin.js';
  </script>

  <!-- Note: login modal removed — admin.html now always redirects to /login.html when unauthenticated -->
</body>
</html>
