<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart - Her Choice PH</title>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,400;0,600;0,700;1,400&family=Open+Sans:ital,wght@0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
    <!-- Note: Using Open Sans as proxy for Funnel Display (sans-serif) since Funnel Display may be custom; replace with actual font if available -->
    <style>
        /* ===================[ Global Styles & Color Palette ]=================== */
        :root {
            --background: #FFF7E7;
            --dark-bg: #6C0002;
            --text-primary: #6C0002;
            --gold-accent: #F0B135;
            --white: #FFFFFF;
            --gold-hover: #DCB059; /* Lighter gold for hovers */
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Open Sans', sans-serif; /* Funnel Display proxy */
            background-color: var(--background);
            color: var(--text-primary);
            line-height: 1.5;
            font-size: 18px; /* Desktop body text */
        }

        h1, h2, h3 {
            font-family: 'Merriweather', serif;
        }

        /* ===================[ Spacing Scale ]=================== */
        .spacing-xxs { padding: 4px; margin: 4px; }
        .spacing-xs { padding: 8px; margin: 8px; }
        .spacing-sm { padding: 12px; margin: 12px; }
        .spacing-md { padding: 16px; margin: 16px; }
        .spacing-lg { padding: 24px; margin: 24px; }
        .spacing-xl { padding: 32px; margin: 32px; }
        .spacing-xxl { padding: 48px; margin: 48px; }

        /* ===================[ Grid System - Desktop ]=================== */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 16px; /* md spacing for sides */
        }

        .grid-12 {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 24px; /* Gutter */
        }

        /* Mobile Grid (<768px) */
        @media (max-width: 767px) {
            .grid-12 {
                grid-template-columns: repeat(4, 1fr);
                gap: 12px;
            }
            body { font-size: 16px; } /* Mobile body text */
        }

        /* Tablet Grid (768px - 1023px) */
        @media (min-width: 768px) and (max-width: 1023px) {
            .grid-12 {
                grid-template-columns: repeat(8, 1fr);
                gap: 16px;
            }
        }

        /* ===================[ Typography Hierarchy ]=================== */
        .hero-title {
            font-family: 'Merriweather', serif;
            font-weight: 700;
            font-size: 48px; /* Desktop */
            line-height: 1.2 * 48px; /* 1.5x but adjusted for headings */
            text-align: center;
            color: var(--text-primary);
        }

        .section-header {
            font-family: 'Merriweather', serif;
            font-weight: 600;
            font-size: 32px; /* Desktop */
            line-height: 1.5 * 32px;
            color: var(--text-primary);
            margin-bottom: 16px; /* md */
        }

        .body-text {
            font-family: 'Open Sans', sans-serif;
            font-weight: 400;
            font-size: 18px; /* Desktop */
            line-height: 1.5 * 18px;
            color: var(--text-primary);
        }

        .caption {
            font-family: 'Open Sans', sans-serif;
            font-weight: 500;
            font-size: 14px; /* Desktop */
            line-height: 1.5 * 14px;
            color: var(--text-primary);
        }

        /* Mobile Typography */
        @media (max-width: 767px) {
            .hero-title { font-size: 32px; line-height: 1.2 * 32px; }
            .section-header { font-size: 24px; line-height: 1.5 * 24px; }
        }

        /* ===================[ Header Styles ]=================== */
        header {
            background-color: var(--dark-bg);
            color: var(--background);
            padding: 16px 0; /* md vertical */
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: 'Merriweather', serif;
            font-size: 24px;
            font-weight: 700;
            color: var(--background);
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 32px; /* xl */
        }

        nav a {
            color: var(--background);
            text-decoration: none;
            font-family: 'Open Sans', sans-serif;
            font-weight: 500;
            font-size: 16px;
            transition: color 250ms ease-in-out;
        }

        nav a:hover {
            color: var(--gold-hover);
            text-decoration: underline;
        }

        .cart-icon {
            position: relative;
            color: var(--background);
            font-size: 24px;
        }

        /* Mobile Header */
        @media (max-width: 767px) {
            .header-content {
                justify-content: space-between;
            }
            nav ul {
                display: none; /* Burger menu logic in JS if needed */
            }
            .logo {
                font-size: 20px;
            }
        }

        /* ===================[ Button Styles ]=================== */
        .btn {
            background-color: var(--dark-bg);
            color: var(--background);
            border: none;
            padding: 12px 24px; /* sm vertical, lg horizontal */
            border-radius: 4px; /* Subtle rounded corners */
            font-family: 'Open Sans', sans-serif;
            font-weight: 500;
            font-size: 14px;
            cursor: pointer;
            transition: background-color 250ms ease-in-out, transform 250ms ease-in-out;
            min-height: 44px; /* Accessibility tap target */
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .btn:hover:not(:disabled) {
            background-color: var(--gold-accent);
            transform: translateY(-2px); /* Subtle lift, no shadow */
        }

        .btn:disabled {
            background-color: rgba(119, 59, 60, 0.4); /* #773b3c at 40% opacity */
            color: rgba(255, 247, 231, 0.4); /* #FFF7E7 at 40% */
            cursor: not-allowed;
        }

        .btn-gold {
            background-color: var(--gold-accent);
            color: var(--dark-bg);
        }

        .btn-gold:hover {
            background-color: var(--dark-bg);
            color: var(--background);
        }

        /* ===================[ Cart Card Styles ]=================== */
        .cart-item {
            background-color: var(--background);
            border: 1px solid var(--gold-accent);
            padding: 16px; /* md */
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 16px; /* md */
            margin-bottom: 16px;
            transition: transform 250ms ease-in-out;
        }

        .cart-item:hover {
            transform: translateY(-4px); /* Subtle upward lift, no shadow */
        }

        .cart-item img {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 4px;
        }

        .cart-item-details h3 {
            font-family: 'Merriweather', serif;
            font-size: 20px;
            margin-bottom: 4px; /* xxs */
        }

        .cart-item-details .price {
            font-weight: 600;
            color: var(--gold-accent);
            font-size: 18px;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 8px; /* xs */
            margin-left: auto;
        }

        .quantity-btn {
            background: none;
            border: 1px solid var(--gold-accent);
            color: var(--text-primary);
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 250ms ease-in-out;
        }

        .quantity-btn:hover {
            background-color: var(--gold-accent);
        }

        .quantity {
            min-width: 24px;
            text-align: center;
            font-weight: 500;
        }

        .remove-btn {
            background-color: transparent;
            color: var(--text-primary);
            border: none;
            font-size: 18px;
            cursor: pointer;
            padding: 4px; /* xxs */
        }

        /* ===================[ Cart Form & Total ]=================== */
        .cart-form {
            max-width: 600px;
            margin: 0 auto;
        }

        .cart-total {
            background-color: var(--background);
            border-top: 2px solid var(--gold-accent);
            padding: 24px; /* lg */
            text-align: center;
            margin-top: 32px; /* xl */
        }

        .total-price {
            font-family: 'Merriweather', serif;
            font-size: 32px;
            color: var(--gold-accent);
            margin-bottom: 16px;
        }

        /* Empty Cart State */
        .empty-cart {
            text-align: center;
            padding: 48px 16px; /* xxl vertical, md horizontal */
        }

        .empty-cart h2 {
            margin-bottom: 16px;
        }

        /* ===================[ LIFO Cart JS Integration Styles ]=================== */
        .cart-stack-indicator {
            position: fixed;
            top: 100px;
            right: 20px;
            background-color: var(--gold-accent);
            color: var(--dark-bg);
            padding: 8px 16px;
            border-radius: 4px;
            font-size: 14px;
            opacity: 0;
            transition: opacity 250ms ease-in-out;
        }

        .cart-stack-indicator.show {
            opacity: 1;
        }

        /* Animation for Add-to-Cart (LIFO visual fly-in) */
        @keyframes fly-to-cart {
            0% { transform: scale(1) translateY(0); opacity: 1; }
            50% { transform: scale(0.8) translateY(-20px); opacity: 0.7; }
            100% { transform: scale(0) translateX(100px); opacity: 0; }
        }

        .flying-item {
            position: absolute;
            animation: fly-to-cart 300ms ease-in-out forwards;
            z-index: 1000;
        }

        /* ===================[ Footer Styles ]=================== */
        footer {
            background-color: var(--dark-bg);
            color: var(--background);
            text-align: center;
            padding: 32px 16px; /* xl vertical, md horizontal */
            margin-top: 48px; /* xxl */
        }

        /* Accessibility: Focus States */
        .btn:focus, .quantity-btn:focus, .remove-btn:focus {
            outline: 2px solid var(--gold-accent);
            outline-offset: 2px;
        }

        /* Ensure contrast: Text on background */
        /* Verified: #6C0002 on #FFF7E7 has >4.5:1 ratio */
    </style>
</head>
<body>
    <!-- ===================[ Header ]=================== -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">Her Choice PH</div>
                <nav>
                    <ul>
                        <li><a href="pageMain.html">Home</a></li>
                        <li><a href="cart.html">Cart</a></li>
                        <li><a href="admin.html">Admin</a></li>
                    </ul>
                </nav>
                <div class="cart-icon">ðŸ›’</div> <!-- Cart icon; cart count can be added via JS -->
            </div>
        </div>
    </header>

    <!-- ===================[ Main Cart Content ]=================== -->
    <main class="container spacing-xl">
        <h1 class="hero-title spacing-md">Your Shopping Cart</h1>

        <form class="cart-form" id="cartForm">
            <section class="grid-12">
                <!-- Cart Items will be dynamically inserted here -->
                <div id="cartItems" class="col-span-12"></div>
            </section>

            <!-- Cart Total -->
            <section id="cartTotal" class="cart-total" style="display: none;">
                <h2 class="section-header">Order Summary</h2>
                <div class="total-price" id="totalPrice">$0.00</div>
                <button type="submit" class="btn btn-gold">Proceed to Checkout</button>
            </section>

            <!-- Empty Cart Message -->
            <section id="emptyCart" class="empty-cart">
                <h2 class="section-header">Your cart is empty</h2>
                <p class="body-text">Add some luxurious beauty products to get started.</p>
                <button type="button" class="btn" onclick="window.location.href='pageMain.html'">Shop Now</button>
            </section>
        </form>
    </main>

    <!-- ===================[ LIFO Stack Indicator ]=================== -->
    <div id="stackIndicator" class="cart-stack-indicator">Item added to cart!</div>

    <!-- ===================[ Footer ]=================== -->
    <footer>
        <p class="body-text">&copy; 2023 Her Choice PH. Empowering Beauty.</p>
    </footer>

    <script>
        /* ===================[ LIFO Cart Data Structure & Functions ]=================== */
        // LIFO Stack for Cart (Last In, First Out for undo/visual stacking)
        let cartStack = []; // Array simulating LIFO stack

        function pushCart(item) {
            cartStack.unshift(item); // Push to front for LIFO
            listCart();
            showStackIndicator();
            animateFlyIn(item); // Visual animation
        }

        function undoCart() {
            if (cartStack.length > 0) {
                cartStack.shift(); // Remove from front (LIFO)
                listCart();
            }
        }

        function listCart() {
            const cartItemsEl = document.getElementById('cartItems');
            const totalEl = document.getElementById('totalPrice');
            const emptyCartEl = document.getElementById('emptyCart');
            const cartTotalEl = document.getElementById('cartTotal');

            if (cartStack.length === 0) {
                cartItemsEl.innerHTML = '';
                emptyCartEl.style.display = 'block';
                cartTotalEl.style.display = 'none';
                return;
            }

            emptyCartEl.style.display = 'none';
            cartTotalEl.style.display = 'block';

            let total = 0;
            cartItemsEl.innerHTML = cartStack.map((item, index) => {
                total += item.price * item.quantity;
                return `
                    <div class="cart-item">
                        <img src="${item.image}" alt="${item.name}" />
                        <div class="cart-item-details">
                            <h3>${item.name}</h3>
                            <p class="body-text">${item.description}</p>
                            <div class="price">$${item.price.toFixed(2)}</div>
                        </div>
                        <div class="quantity-controls">
                            <button type="button" class="quantity-btn" onclick="updateQuantity(${index}, -1)">-</button>
                            <span class="quantity">${item.quantity}</span>
                            <button type="button" class="quantity-btn" onclick="updateQuantity(${index}, 1)">+</button>
                            <button type="button" class="remove-btn" onclick="removeFromCart(${index})">âœ•</button>
                        </div>
                    </div>
                `;
            }).join('');

            totalEl.textContent = `$${total.toFixed(2)}`;
        }

        function updateQuantity(index, change) {
            if (cartStack[index]) {
                cartStack[index].quantity = Math.max(1, cartStack[index].quantity + change);
                listCart();
            }
        }

        function removeFromCart(index) {
            cartStack.splice(index, 1); // Remove by index (adjusts stack)
            listCart();
        }

        function showStackIndicator() {
            const indicator = document.getElementById('stackIndicator');
            indicator.classList.add('show');
            setTimeout(() => indicator.classList.remove('show'), 2000);
        }

        function animateFlyIn(item) {
            // Simulate fly-in animation from a product (in real impl, clone from product card)
            const flyingImg = document.createElement('img');
            flyingImg.src = item.image;
            flyingImg.classList.add('flying-item');
            flyingImg.style.position = 'fixed';
            flyingImg.style.left = '50%';
            flyingImg.style.top = '50%';
            flyingImg.style.width = '50px';
            flyingImg.style.height = '50px';
            flyingImg.style.zIndex = '1000';
            document.body.appendChild(flyingImg);

            setTimeout(() => {
                document.body.removeChild(flyingImg);
            }, 300);
        }

        // Example: Add sample items or integrate with product page
        // For demo, add a sample item on load (in real, trigger from product clicks)
        document.addEventListener('DOMContentLoaded', () => {
            // Sample product add (simulate add-to-cart from main page)
            const sampleProduct = {
                id: 1,
                name: 'Luxury Lipstick',
                description: 'Empowering red shade for modern vintage look.',
                price: 25.00,
                quantity: 1,
                image: 'https://via.placeholder.com/80?text=Lipstick' // Placeholder
            };
            pushCart(sampleProduct);